<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <sectionGroup name="CSF">
      <sectionGroup name="Zpt">
          <section name="DocumentImplementationConfiguration"
                   type="CSF.Zpt.DocumentImplementationConfiguration, CSF.Zpt" />
        <sectionGroup name="Tales">
          <section name="ExpressionEvaluatorConfiguration"
                   type="CSF.Zpt.Tales.ExpressionEvaluatorConfiguration, CSF.Zpt" />
        </sectionGroup>
      </sectionGroup>
    </sectionGroup>

    <!--
        Uncomment this and the logging section below to enable logging.
        See below for more information.
    
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    
    -->
  </configSections>

  <CSF>
    <Zpt>
      <DocumentImplementationConfiguration>
        <Implementations>
          <Implementation TypeName="CSF.Zpt.Impl.HtmlZptDocumentProvider, CSF.Zpt.Impl.HtmlHAP"
                          IsDefaultHtml="True" />
          <Implementation TypeName="CSF.Zpt.Impl.XmlLinqZptDocumentProvider, CSF.Zpt.Impl.XmlLinq"
                          IsDefaultXml="True" />
          <Implementation TypeName="CSF.Zpt.Impl.LegacyXmlZptDocumentProvider, CSF.Zpt.Impl.XmlLegacy" />
        </Implementations>
      </DocumentImplementationConfiguration>
      <Tales>
        <ExpressionEvaluatorConfiguration>
          <Implementations>
            <Implementation TypeName="CSF.Zpt.Tales.PathExpressionEvaluator, CSF.Zpt" IsDefault="True" />
            <Implementation TypeName="CSF.Zpt.Tales.StringExpressionEvaluator, CSF.Zpt" />
            <Implementation TypeName="CSF.Zpt.Tales.NotExpressionEvaluator, CSF.Zpt" />
            <Implementation TypeName="CSF.Zpt.Tales.LocalVariablePathExpressionEvaluator, CSF.Zpt" />
          </Implementations>
        </ExpressionEvaluatorConfiguration>
      </Tales>
    </Zpt>
  </CSF>

  <!--
  
      Uncomment this section if you wish to enable logging of ZptBuilder's activities.
      You will also need to ensure that log4net.dll and CSF.Zpt.Log4net.dll are in the
      same directory as ZptBuilder.exe
  
      Also, be sure to also uncomment the log4net configSection, above.
  
      Read http://csf-dev.github.io/ZPT-Sharp/logging.html for more information.
  
  <log4net>
    <root>
      <level value="WARN" />
      <appender-ref ref="FileAppender" />
    </root>
    <appender name="FileAppender" type="log4net.Appender.FileAppender">
      <file value="ZptBuilder.log" />
      <appendToFile value="false" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="[%-5level] [%logger] %message%n" />
      </layout>
    </appender>
    <logger name="CSF.Zpt">
      <level value="INFO" />
    </logger>
  </log4net>

  <system.diagnostics>    
    <sources>
      <source name="CSF.Zpt" switchName="defaultSwitch" switchType="System.Diagnostics.SourceSwitch">
        <listeners>
          <add name="log4netListener" />
          <remove name="Default" />
        </listeners>
      </source>
      <source name="CSF.Zpt.Cli" switchName="defaultSwitch" switchType="System.Diagnostics.SourceSwitch">
        <listeners>
          <add name="log4netListener" />
          <remove name="Default" />
        </listeners>
      </source>
    </sources>
    <switches>
      <add name="defaultSwitch" value="Verbose"/>
    </switches>
    <sharedListeners>
      <add name="log4netListener"
           type="CSF.Zpt.SelfConfiguringLog4netTraceListener, CSF.Zpt.Log4net">
        <filter type="System.Diagnostics.EventTypeFilter" initializeData="Verbose"/>
      </add>
    </sharedListeners>
  </system.diagnostics>
  
  -->

</configuration>
