<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="documents/macros/base-template/macros/document-structure">
<head>
<title metal:fill-slot="title">ZPT-Sharp Page Builder Manual</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<base href="../" />
<style>
@import url(static/css/default-styles.css);
</style>
</head>
<body>
<div class="page">
  <div class="region_header dummy">
    Header content is imported here
  </div>
  <div class="region_main">
    <div class="main_navigation">
      <div class="dummy">
        Main navigation is imported here
      </div>
    </div>
    <div class="region_content page_builder_manual" metal:fill-slot="region_content">
      <h1>ZPT-Sharp Page Builder Manual</h1>
      <p>
        The basic invocation syntax for the Page Builder is:
        <code class="block">CraigFowler.Web.ZPT.Builder.exe [options] [input path]</code>
      </p>
      <h2>Page Builder parameter summary</h2>
      <p>
        All may be used by either their 'short' or 'long' forms as desired.  All parameters are optional,
        if a parameter is not present then it will fall back to the default value noted below.  Parameter
        values are passed in the format:
        <code>-i *.pt</code> or <code>--input-filename-pattern *.pt</code>.
        You will need to quote any parameter value that contains a space or that your chosen shell
        environment tries to do anything funny with.
      </p>
      <table class="parameter_summary">
        <col class="name" />
        <col class="short" />
        <col class="long" />
        <col class="default" />
        <thead>
          <tr>
            <th>Name</th>
            <th>Short</th>
            <th>Long</th>
            <th>Default value</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Input pattern</td>
            <td><code>-i</code></td>
            <td><code>--input-filename-pattern</code></td>
            <td><code>*.pt</code></td>
          </tr>
          <tr>
            <td>Output path</td>
            <td><code>-o</code></td>
            <td><code>--output</code></td>
            <td><code>[input path]/../zpt-output</code></td>
          </tr>
          <tr>
            <td>Output extension</td>
            <td><code>-e</code></td>
            <td><code>--output-filename-extension</code></td>
            <td><code>.xhtml</code></td>
          </tr>
          <tr>
            <td>Ignore marker</td>
            <td><code>-g</code></td>
            <td><code>--ignore-marker-filename</code></td>
            <td><code>.zpt-builder-ignore</code></td>
          </tr>
          <tr>
            <td>Options</td>
            <td><code>-c</code></td>
            <td><code>--options</code></td>
            <td><em>Nothing</em></td>
          </tr>
        </tbody>
      </table>
      <h2>Page Builder parameters in detail</h2>
      <h3 id="input-pattern">Input pattern</h3>
      <p>
        The input pattern parameter defines the files that the ZPT Page Builder will treat as (and parse as)
        ZPT documents.  It is specified as a standard filename 'glob pattern' such as
        <code>*.template</code>
      </p>
      <h3 id="output-path">Output path</h3>
      <p>
        The output path is the location where the ZPT Page Builder will save the rendered HTML files.  Files
        are saved within this path at the same location relative to the input path.  For example (assuming
        all other options are default) the file <code>inputPath/foo/bar/baz.pt</code> would be saved at
        <code>outputPath/foo/bar/baz.xhtml</code> after it was rendered.
      </p>
      <p>
        The default output location (if none is specified) is to use a directory alongside the input path
        named <code>zpt-output</code>.
      </p>
      <p>
        <em>Be warned</em> that if the output directory already exists when the ZPT Page Builder creates its
        output, <em>all of the contents of the output directory will be deleted</em>.
      </p>
      <h3 id="output-extension">Output extension</h3>
      <p>
        This defines the filename extension given to output files once they are rendered.  The default is
        <code>.xhtml</code> because strictly-speaking that is what the output files are.  You may wish to
        use the extension <code>.html</code> instead though because many versions of Windows/Internet
        Explorer do not recognise the XHTML extension.
      </p>
      <p>
        If you do use a non-XHTML extension then, unless you are using
        '<a href="https://secure.wikimedia.org/wikipedia/en/wiki/HTML5#XHTML5"
           title="HTML version 5 XML serialisation">XHTML5</a>', you should be aware that you are likely
        encouraging the serving of XHTML documents via the text/html MIME type, which has been
        <a href="http://hixie.ch/advocacy/xhtml"
           title="Serving XHTML markup as text/html considered harmful">considered harmful</a>.  That said,
        practical reasons (compatability with Windows/IE) can sometimes override this best practice.
      </p>
      <h3 id="ignore-marker">Ignore marker</h3>
      <p>
        The ZPT-Sharp Page Builder will <strong>ignore</strong> any directories of ZPT documents (including
        all contained files and subdirectories) where a file with this filename is found.  Only the presence
        of the filename is needed, the content is irrelevant (it may be a zero-length file).
      </p>
      <p>
        All ignored ZPT documents are still parsed and made available to other documents via the
        <code>documents</code>
        <acronym title="Template Attribute Language Expression Syntax">TALES</acronym> alias (so macros
        contained within these ignored documents may be used by documents that are not ignored) but ignored
        documents will be skipped at the actual rendering and output step.
      </p>
      <p>
        To use the ignore marker effectively, place your ZPT documents that serve no purpose other than
        to provide macros for other documents within a single subdirectory structure of the input path and
        then create a file matching the ignore marker's filename in that directory.  These 'supporting'
        documents that do not need rendering or copying to the output path on their own will be skipped
        over.
      </p>
      <h3 id="options">Options</h3>
      <p>
        The options parameter controls additional data that is passed into the ZPT-Sharp Page Builder as it
        renders the pages.  The syntax for this parameter is a semicolon-separated list of key/value pairs (each
        key/value pair demarked by an equals symbol).  For example
        <code>-c "baseUrl=http://example.com/website/;author=Craig Fowler;foo=bar"</code>
      </p>
      <p>
        Any options passed in via this parameter are made available to all ZPT documents to be rendered via the
        <code>options</code> TALES alias.  This way, a small amount of dynamic data can be passed in via the commandline
        for use by the templates.
      </p>
    </div>
  </div>
  <div class="region_footer dummy">
    Footer content is imported here
  </div>
</div>
</body>
</html>