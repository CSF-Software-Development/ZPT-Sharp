<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Repeating sections of markup</title>
<base href="http://csf-dev.github.io/ZPT-Sharp/">
<style type="text/css">
@import url(css/styles.css);
</style>

<script data-main="js/config/main" type="text/javascript" src="js/lib/require.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css">
</head>
<body class="page_tal_repeat">
<div class="content_wrapper">
  <header class="page_header">
    <div class="hamburger_menu" title="Show/hide navigation">
      <span class="hamburger_line"></span>
      <span class="hamburger_line"></span>
      <span class="hamburger_line"></span>
    </div>
    <h2>
      <a href="index.html">ZPT Sharp</a>
      <em>Zen HTML views</em>
    </h2>
  </header>
  <div class="main_page_area">
    <nav>
      <h2>Site navigation</h2>
      <ul class="active_tal_repeat">
        <li class="introduction nav_item">
          <a href="index.html">Introduction</a>
        </li>
        <li class="advantages nav_item">
          <a href="advantages-of-zpt-views.html">ZPT Advantages</a>
        </li>
        <li class="download nav_item">
          <a href="download.html">Download ZPT-Sharp</a>
        </li>
        <li class="asp_net_view_engine nav_item">
          <a href="asp-net-mvc-view-engine.html">ZPT-Sharp for ASP.NET MVC</a>
        </li>
        <li class="page_rendering_api nav_item">
          <a href="page-rendering-api.html">API introduction</a>
        </li>
        <li class="api_reference nav_item">
          <a href="api/index.html">API reference</a>
        </li>
        <li class="command_line_renderer nav_item">
          <a href="command-line-renderer.html">The command-line renderer</a>
        </li>
        <li class="writing_pages_using_zpt nav_item">
          <a href="writing-pages-using-zpt.html">Writing pages</a>
        </li>
        <li class="plugins nav_item">
          <a href="plugins.html">Plugins</a>
        </li>
        <li class="configuration nav_item">
          <a href="configuration.html">Configuration</a>
        </li>
        <li class="diagnostics_and_logging nav_item">
          <a href="logging.html">Diagnostics &amp; logging</a>
        </li>
        <li class="metal_reference nav_section">
          <h3>METAL reference</h3>
          <ul>
            <li>
              <a href="metal/introduction.html">Introduction to METAL</a>
            </li>
            <li>
              <a href="metal/define-use-macro.html">Define &amp; use macros</a>
            </li>
            <li>
              <a href="metal/define-fill-slot.html">Define &amp; fill slots</a>
            </li>
            <li>
              <a href="metal/extend-macro.html">Extend macros</a>
            </li>
          </ul>
        </li>
        <li class="tal_reference nav_section">
          <h3>TAL reference</h3>
          <ul>
            <li>
              <a href="tal/introduction.html">Introduction to TAL</a>
            </li>
            <li>
              <a href="tal/define.html">Define variables</a>
            </li>
            <li>
              <a href="tal/condition.html">Conditional rendering</a>
            </li>
            <li>
              <a href="tal/repeat.html">Repeat sections of markup</a>
            </li>
            <li>
              <a href="tal/content-replace.html">Insert model data</a>
            </li>
            <li>
              <a href="tal/attributes.html">Set attributes</a>
            </li>
            <li>
              <a href="tal/omit-tag.html">Omit start/end tag</a>
            </li>
            <li>
              <a href="tal/on-error.html">Error handling</a>
            </li>
          </ul>
        </li>
        <li class="tales_reference nav_section">
          <h3>TALES reference</h3>
          <ul>
            <li>
              <a href="tales/introduction.html">Introduction to TALES</a>
            </li>
            <li>
              <a href="tales/path-expressions.html">Path expressions</a>
            </li>
            <li>
              <a href="tales/string-expressions.html">String expressions</a>
            </li>
            <li>
              <a href="tales/not-expressions.html">Not expressions</a>
            </li>
            <li>
              <a href="tales/built-in-variables.html">Root variables</a>
            </li>
            <li>
              <a href="tales/repeat-variables.html">Repeat variables</a>
            </li>
          </ul>
        </li>
      </ul>
    </nav>
    <section class="main_page_content">
      <header>
        <h1>Repeating sections of markup</h1>
      </header>
      <p>
        The TAL <strong>repeat</strong> attribute repeats the element upon which it appears once for each item in a
        collection. A parallel in programming/scripting languages would be a 'for each' loop.
      </p>
      <h2>Syntax</h2>
      <pre><code class="nohighlight">tal:repeat="NAME EXPRESSION"</code></pre>
      <h3 id="repeat_variables">The variable name</h3>
      <p>
        Permitted variable names (<code>NAME</code>) are one or more non-whitespace characters.  They are case
        sensitive and mandatory.  This creates a new <a href="tales/repeat-variables.html">repeat variable</a> within
        the TALES context, which acts much like a local variable, with some additional functionality.
      </p>
      <h3>The expression</h3>
      <p>
        The expression (<code>EXPRESSION</code>) is
        <a href="tales/introduction.html">evaluated as a TALES expression</a>.  It is then handled according
        to the value of the result, using the following logic:
      </p>
      <ol>
        <li>
          If the result of the expression <a href="tales/cancellation.html">cancels the action</a>, or is
          <code>null</code> then the element is left unchanged and no repeat variable is defined.
        </li>
        <li>
          If the result of the expression does not implement <code>System.Collections.IEnumerable</code> then an error
          is raised.
        </li>
        <li>
          The expression result is enumerated and the element (and all of its children) is duplicated once
          for each item in the resultant collection.  The order in which the repeated elements appear in the DOM
          respects the order in which the collection is enumerated.
        </li>
      </ol>
      <p class="note">
        Note that if the collection exposed by the expression is empty, then the element and all of its children will
        be repeated zero times.  This means that they would be removed from the DOM; further TAL processing upon the
        element and its children will be aborted.
      </p>
      <h2>Example</h2>
      <p>
        Here is an example of the <code>tal:repeat</code> syntax in operation:
      </p>
      <pre><code class="html">&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr tal:repeat=&quot;item CurrentUser/ShoppingCart&quot;&gt;
      &lt;td tal:content=&quot;repeat/item/index&quot;&gt;1&lt;/td&gt;
      &lt;td tal:content=&quot;item/Name&quot;&gt;Item name&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
      <p>
        The first column uses the TALES repeat variable in order to display the numeric index of the repetition,
        the second column makes use of the local variable to render information from the current iteration's object
        model.
      </p>
    </section>
  </div>
</div>
<footer class="page_footer">
  <section class="copyright">
    Copyright © 2016
    <a href="http://csf-dev.com/">CSF Software Limited</a> et al
  </section>
  <section class="version">
    <p>
      Website built <strong>2016-11-01</strong>;
      for version
      <strong>
        v0.6.0-alpha
      </strong>
    </p>
  </section>
</footer>

</body>
</html>
