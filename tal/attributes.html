<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setting element attributes</title>
<base href="http://csf-dev.github.io/ZPT-Sharp/">
<style type="text/css">
@import url(css/styles.css);
</style>

<script type="text/javascript" src="js/modernizr.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css">
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
<script>
$(window).ready(function() {
  hljs.initHighlightingOnLoad();
  
  var
    navHamburger = $(".page_header .hamburger_menu"),
    navMenu = $(".main_page_area > nav");
  navHamburger.click(function(ev) {
    navMenu.toggleClass("visible");
  });
});
</script>
</head>
<body class="page_tal_attributes">
<div class="content_wrapper">
  <header class="page_header">
    <div class="hamburger_menu" title="Show/hide navigation">
      <span class="hamburger_line"></span>
      <span class="hamburger_line"></span>
      <span class="hamburger_line"></span>
    </div>
    <h2>
      <a href="index.html">ZPT Sharp</a>
      <em>Zen HTML views</em>
    </h2>
  </header>
  <div class="main_page_area">
    <nav>
      <h2>Navigation menu</h2>
      <ul class="active_tal_attributes">
        <li class="introduction nav_item">
          <a href="index.html">Introduction</a>
        </li>
        <li class="asp_net_view_engine nav_item">
          <a href="asp-net-mvc-view-engine.html">ZPT-Sharp for ASP.NET MVC</a>
        </li>
        <li class="page_rendering_api nav_item">
          <a href="page-rendering-api.html">The page-rendering API</a>
        </li>
        <li class="command_line_renderer nav_item">
          <a href="command-line-renderer.html">The command-line renderer</a>
        </li>
        <li class="writing_pages_using_zpt nav_item">
          <a href="writing-pages-using-zpt.html">Writing pages</a>
        </li>
        <li class="metal_reference nav_section">
          <h3>METAL reference</h3>
          <ul>
            <li>
              <a href="metal/introduction.html">Introduction to METAL</a>
            </li>
            <li>
              <a href="metal/define-use-macro.html">Define &amp; use macros</a>
            </li>
            <li>
              <a href="metal/define-fill-slot.html">Define &amp; fill slots</a>
            </li>
            <li>
              <a href="metal/extend-macro.html">Extend macros</a>
            </li>
          </ul>
        </li>
        <li class="tal_reference nav_section">
          <h3>TAL reference</h3>
          <ul>
            <li>
              <a href="tal/introduction.html">Introduction to TAL</a>
            </li>
            <li>
              <a href="tal/define.html">Define variables</a>
            </li>
            <li>
              <a href="tal/condition.html">Conditional rendering</a>
            </li>
            <li>
              <a href="tal/repeat.html">Repeat sections of markup</a>
            </li>
            <li>
              <a href="tal/content-replace.html">Insert model data</a>
            </li>
            <li>
              <a href="tal/attributes.html">Set attributes</a>
            </li>
            <li>
              <a href="tal/omit-tag.html">Omit start/end tag</a>
            </li>
            <li>
              <a href="tal/on-error.html">Error handling</a>
            </li>
          </ul>
        </li>
        <li class="tales_reference nav_section">
          <h3>TALES reference</h3>
          <ul>
            <li>
              <a href="tales/introduction.html">Introduction to TALES</a>
            </li>
            <li>
              <a href="tales/path-expressions.html">Path expressions</a>
            </li>
            <li>
              <a href="tales/string-expressions.html">String expressions</a>
            </li>
            <li>
              <a href="tales/not-expressions.html">Not expressions</a>
            </li>
            <li>
              <a href="tales/built-in-variables.html">Root variables</a>
            </li>
            <li>
              <a href="tales/repeat-variables.html">Repeat variables</a>
            </li>
          </ul>
        </li>
      </ul>
    </nav>
    <section class="main_page_content">
      <header>
        <h1>Setting element attributes</h1>
      </header>
      <p>
        The TAL <strong>attributes</strong> attribute controls the adding, removal or setting of attributes upon the
        rendered element.
      </p>
      <h2>Syntax</h2>
      <pre><code class="nohighlight">tal:attributes="ATTRIBUTE_NAME EXPRESSION"</code></pre>
      <h3>The attribute name</h3>
      <p>
        The attribute name (<code>ATTRIBUTE_NAME</code>) is mandatory and specifies the name of the attribute to modify.
        It may optionally contain a namespace prefix in the <code>PREFIX:NAME</code> syntax.  This is useful for XML
        documents which include attributes from multiple namespaces.
      </p>
      <h3>The expression</h3>
      <p>
        The expression (<code>EXPRESSION</code>) is
        <a href="tales/introduction.html">evaluated as a TALES expression</a>; and the result depends upon the
        value of that expression, using the following logic:
      </p>
      <ol>
        <li>
          If the expression evaluates to <code>null</code> then the named attribute is not added to the element; if it
          is already present then it is removed.
        </li>
        <li>
          If the expression <a href="tales/cancellation.html">cancels the action</a> then the attribute is not added to
          the element.  If it is already present then it is left unchanged.
        </li>
        <li>
          If the expression evaluates to any other value then the named attribute is either added to the element or,
          if it is already present its value is modified.  The attribute's new value is the result of expression.
        </li>
      </ol>
      <p>
        In the last case, where an attribute value is added or modified, the expression result is interpreted as a
        <code>System.String</code>, if it is not already a string then it is converted using the object's
        <code>ToString()</code> method.  The expression result is escaped (HTML encoded) before it is rendered as an
        attribute value.
      </p>
      <h2 id="multiple_attributes">Setting multiple attributes at once</h2>
      <p>
        It is permitted to include multiple attributes statements in the same <code>tal:attributes</code> attribute.
        Each statement is separated by a semicolon (and optional whitespace for readability):
      </p>
      <pre><code class="html">&lt;input tal:attributes=&quot;class string:my_class my_other_class;
                       type Model/My/Value;
                       readonly string:readonly&quot; /&gt;</code></pre>
      <p>
        If you wish to use a semicolon character in an attribute name or expression (for example as part of
        <a href="tales/string.html">a <code>string:</code> TALES expression</a>) then you must escape it by doubling-it
        up: <kbd>;;</kbd>.
      </p>
      <p>
        If multiple attribute statements are present upon the same attribute in this manner, they are evaluated
        independently with regard to handling of null values and cancellation of the action.  Thus attributes may be
        added and removed via the same <code>tal:attributes</code> attribute.
      </p>
    </section>
  </div>
</div>
<footer class="page_footer">
  <section class="copyright">
    Copyright © 2016
    <a href="http://csf-dev.com/">CSF Software Limited</a> et al
  </section>
  <section class="version">
    <p>
      Documentation built on <strong>2016-08-24</strong>, for
      <span>
        version <strong>v0.4.0</strong>
      </span>
    </p>
  </section>
</footer>

</body>
</html>
