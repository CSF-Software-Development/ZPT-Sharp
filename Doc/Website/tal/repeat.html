<!doctype html>
<html tal:define="activePage tal_repeat">
<head metal:use-macro="pages/Shared/general-page.pt/macros/common_document_head">
<meta charset="utf-8">
<title metal:fill-slot="document_title">Repeating sections of markup</title>
<base href="../" />
<style type="text/css">
@import url(css/styles.css);
@import url(css/dummy.css);
</style>
<script type="text/javascript" src="js/modernizr.min.js"></script>
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css">
<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
<script>
hljs.initHighlightingOnLoad();
</script>
</head>
<body metal:use-macro="pages/Shared/general-page.pt/macros/common_document_body" class="page_tal_repeat">
<div class="content_wrapper">
  <header class="page_header dummy">
    Dummy content
  </header>
  <div class="main_page_area">
    <nav>
      <h2>Navigation menu</h2>
      <ul class="active_introduction dummy">
        <li class="introduction"><a href=".">Introduction</a></li>
        <li class="other_page"><a href="dummy.html">Dummy page</a></li>
      </ul>
    </nav>
    <section class="main_page_content" metal:fill-slot="main_page_content">
      <header>
        <h1>Repeating sections of markup</h1>
      </header>
      <p>
        The TAL <strong>repeat</strong> attribute repeats the element upon which it appears once for each item in a
        collection. A parallel in programming/scripting languages would be a 'for each' loop.
      </p>
      <h2>Syntax</h2>
      <pre><code class="nohighlight">tal:repeat="NAME EXPRESSION"</code></pre>
      <h3 id="repeat_variables">The variable name</h3>
      <p>
        Permitted variable names (<code>NAME</code>) are one or more non-whitespace characters.  They are case
        sensitive and mandatory.  This creates a new <a href="tales/repeat-variable.html">repeat variable</a> within
        the TALES context, which acts much like a local variable, with some additional functionality.
      </p>
      <h3>The expression</h3>
      <p>
        The expression (<code>EXPRESSION</code>) is
        <a href="tales/expression-evaluation.html">evaluated as a TALES expression</a>.  It is then handled according
        to the value of the result, using the following logic:
      </p>
      <ol>
        <li>
          If the result of the expression <a href="tales/cancellation.html">cancels the action</a>, or is
          <code>null</code> then the element is left unchanged and no repeat variable is defined.
        </li>
        <li>
          If the result of the expression does not implement <code>System.Collections.IEnumerable</code> then an error
          is raised.
        </li>
        <li>
          The expression result is enumerated and the element (and all of its children) is duplicated once
          for each item in the resultant collection.  The order in which the repeated elements appear in the DOM
          respects the order in which the collection is enumerated.
        </li>
      </ol>
      <p class="note">
        Note that if the collection exposed by the expression is empty, then the element and all of its children will
        be repeated zero times.  This means that they would be removed from the DOM; further TAL processing upon the
        element and its children will be aborted.
      </p>
      <h2>Example</h2>
      <p>
        Here is an example of the <code>tal:repeat</code> syntax in operation:
      </p>
      <pre><code class="html">&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr tal:repeat=&quot;item CurrentUser/ShoppingCart&quot;&gt;
      &lt;td tal:content=&quot;repeat/item/index&quot;&gt;1&lt;/td&gt;
      &lt;td tal:content=&quot;item/Name&quot;&gt;Item name&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
      <p>
        The first column uses the TALES repeat variable in order to display the numeric index of the repetition,
        the second column makes use of the local variable to render information from the current iteration's object
        model.
      </p>
    </section>
  </div>
</div>
<footer class="page_footer dummy">
  Dummy content
</footer>
</body>
</html>
